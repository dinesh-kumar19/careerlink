<header>
  <app-header></app-header>
</header>

<main>
  <!-- user view design -->
  <section class="dashboard-top">
    <div style="display: flex; justify-content: center">
      <div
        style="
          border: 1px solid black;
          border-radius: 20px;
          padding: 40px;
          width: fit-content;
          background-color: rgb(195, 204, 201);
        "
      >
        <div class="mt-3" *ngIf="currentUser">
          <p>ID: {{ currentUser.id }}</p>
          <p>User Name: {{ currentUser.name }}</p>
          <p>Email: {{ currentUser.email_id }}</p>
          <!-- <p>User Register ID: {{currentUser.user_registerid}}</p> -->
        </div>
        <div *ngIf="!currentUser">
          <p>Loading user details...</p>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div *ngIf="userJobs.length === 0" class="text-center mt-4">
      <p>No job applications found.</p>
    </div>
    <div class="container mt-5 table-responsive">
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>
      <h2 class="">APPLIED JOBS</h2>
      <table class="table table-striped" *ngIf="userJobs.length > 0">
        <thead>
          <tr>
            <th>S.NO</th>
            <th>Job Title</th>
            <th>Company Name</th>

            <th>Application Date</th>

            <th>Status</th>
          </tr>
        </thead>
        <tbody *ngFor="let job of userJobs; let i = index">
          <tr>
            <td>{{ i + 1 }}</td>
            <td>{{ job.jobtitle }}</td>
            <td>{{ job.name }}</td>
            <td>{{ job.application_date }}</td>
            <!-- <td><button class="btn btn-dark">pending</button></td> -->
            <td>
              <button type="button" class="btn btn-success">Accepted</button
              >&nbsp;
              <button type="button" class="btn btn-danger">Pending</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</main>

<footer>
  <app-footer></app-footer>
</footer>
