(self.webpackChunkjob_portal=self.webpackChunkjob_portal||[]).push([[834],{3834:(t,n,e)=>{"use strict";e.r(n),e.d(n,{AdminModule:()=>k});var i=e(1116),o=e(3319),a=e(8619),r=e(663);let s=(()=>{class t{constructor(t,n){this.router=t,this.jobsService=n}canActivate(t,n){return!!this.jobsService.isAdminLoggedIn()||(this.router.navigate(["/admin/CLadmin"]),!1)}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(o.F0),a.LFG(r.e))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=e(1462),c=e(2693);function g(t,n){1&t&&(a.TgZ(0,"div"),a.TgZ(1,"small",11),a._uU(2,"Please enter a valid email."),a.qZA(),a.qZA())}function l(t,n){1&t&&(a.TgZ(0,"div"),a.TgZ(1,"small",11),a._uU(2,"Password must be at least 6 characters long."),a.qZA(),a.qZA())}let p=(()=>{class t{constructor(t,n,e){this.router=t,this.http=n,this.JobsService=e}ngOnInit(){this.adminLoginForm=new d.cw({adminEmail_id:new d.NI("",[d.kI.required,d.kI.email]),admin_Password:new d.NI("",[d.kI.required,d.kI.minLength(6)])}),this.JobsService.isAdminLoggedIn()&&this.router.navigate(["/admin/adminDashboard"])}logIn(){const t=this.adminLoginForm.value;t.adminEmail_id&&t.admin_Password?this.loginAsAdmin(t):alert("Both email and password are required.")}loginAsAdmin(t){this.http.post("http://localhost:3000/api/jobpostings/loginAdmin",{admin_email:t.adminEmail_id,admin_password:t.admin_Password},{withCredentials:!0}).subscribe(t=>{t.success?(alert("Admin Login Successful"),this.JobsService.setAdminLoggedIn(!0),this.router.navigate(["/admin/admin-details"]),this.adminLoginForm.reset()):alert("Invalid email or password.")},t=>{alert("An unexpected error occurred. Please try again.")})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(o.F0),a.Y36(c.eN),a.Y36(r.e))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-admin-login"]],decls:16,vars:4,consts:[[1,"text-center","p-2","text-primary"],[1,"container"],[3,"formGroup"],[1,"mb-3"],["for","adminemail",1,"form-label","mt-3"],["type","email","id","adminEmail","formControlName","adminEmail_id","placeholder","Enter Email ID","required","",1,"form-control","border","border-dark","p-3"],[4,"ngIf"],[1,"mb-1"],["for","adminpassword",1,"form-label","mt-3"],["type","password","id","adminPassword","aria-describedby","passwordHelpBlock","formControlName","admin_Password","placeholder","Enter Password",1,"form-control","border","border-dark","p-3"],["type","button",1,"signin_button","btn","btn-primary","mt-4",3,"disabled","click"],[1,"text-danger"]],template:function(t,n){1&t&&(a.TgZ(0,"h2",0),a._uU(1,"Admin Login Form"),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"form",2),a.TgZ(4,"div",3),a.TgZ(5,"label",4),a._uU(6,"Email"),a.qZA(),a._UZ(7,"input",5),a.YNc(8,g,3,0,"div",6),a.qZA(),a.TgZ(9,"div",7),a.TgZ(10,"label",8),a._uU(11,"Password"),a.qZA(),a._UZ(12,"input",9),a.YNc(13,l,3,0,"div",6),a.qZA(),a.qZA(),a.TgZ(14,"button",10),a.NdJ("click",function(){return n.logIn()}),a._uU(15," Login "),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Q6J("formGroup",n.adminLoginForm),a.xp6(5),a.Q6J("ngIf",n.adminLoginForm.controls.adminEmail_id.invalid&&(n.adminLoginForm.controls.adminEmail_id.dirty||n.adminLoginForm.controls.adminEmail_id.touched)),a.xp6(5),a.Q6J("ngIf",n.adminLoginForm.controls.admin_Password.invalid&&(n.adminLoginForm.controls.admin_Password.dirty||n.adminLoginForm.controls.admin_Password.touched)),a.xp6(1),a.Q6J("disabled",n.adminLoginForm.invalid))},directives:[d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,d.Q7,i.O5],styles:[""]}),t})();function u(t,n){if(1&t&&(a.TgZ(0,"div",4),a.TgZ(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"p"),a._uU(4),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(2),a.hij("ID: ",t.currentAdmin.admin_id,""),a.xp6(2),a.hij("Email: ",t.currentAdmin.admin_email,"")}}function m(t,n){1&t&&(a.TgZ(0,"div"),a.TgZ(1,"p"),a._uU(2,"Loading Admin details..."),a.qZA(),a.qZA())}let Z=(()=>{class t{constructor(t,n,e){this.http=t,this.jobsService=n,this.router=e,this.currentAdmin={}}ngOnInit(){this.jobsService.getCurrentAdmin().subscribe(t=>{this.currentAdmin=t.admin},t=>{console.log("Failed to fetch admin data",t)})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(c.eN),a.Y36(r.e),a.Y36(o.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-admin-dashboard"]],decls:7,vars:2,consts:[[2,"display","flex","justify-content","center"],[2,"border","1px solid black","border-radius","20px","padding","40px","width","fit-content","background-color","rgb(195, 204, 201)"],["class","mt-3",4,"ngIf"],[4,"ngIf"],[1,"mt-3"]],template:function(t,n){1&t&&(a.TgZ(0,"main"),a.TgZ(1,"section"),a.TgZ(2,"div",0),a.TgZ(3,"div",1),a.YNc(4,u,5,2,"div",2),a.YNc(5,m,3,0,"div",3),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(6,"footer")),2&t&&(a.xp6(4),a.Q6J("ngIf",n.currentAdmin),a.xp6(1),a.Q6J("ngIf",!n.currentAdmin))},directives:[i.O5],styles:[""]}),t})();function b(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"li",10),a.TgZ(1,"a",11),a.NdJ("click",function(){return a.CHM(t),a.oxw().logout()}),a._uU(2,"Logout"),a.qZA(),a.qZA()}}let A=(()=>{class t{constructor(t,n){this.jobsService=t,this.router=n,this.isAdminLoggedIn=!1}ngOnInit(){this.isAdminLoggedIn=this.jobsService.isAdminLoggedIn()}logout(){this.jobsService.logoutAdmin().subscribe(t=>{this.jobsService.setAdminLoggedIn(!1),this.jobsService.clearAdminLoginState(),this.isAdminLoggedIn=!1,this.router.navigate(["/admin/CLadmin"])},t=>{console.error("Logout failed",t)})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.e),a.Y36(o.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-admin-header"]],decls:12,vars:1,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","whitesmoke"],[1,"container-fluid"],[1,"navbar-brand",2,"margin-left","200px"],["src","/assets/nav_icon.png","alt","Logo","width","50","height","44",1,"d-inline-block","align-text-top","mx-2"],[1,"fs-3","fw-bolder"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","100px"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["aria-current","page",1,"nav-link","logout-style",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"header"),a.TgZ(1,"nav",0),a.TgZ(2,"div",1),a.TgZ(3,"a",2),a._UZ(4,"img",3),a.TgZ(5,"span",4),a._uU(6,"CareerLink"),a.qZA(),a.qZA(),a.TgZ(7,"button",5),a._UZ(8,"span",6),a.qZA(),a.TgZ(9,"div",7),a.TgZ(10,"ul",8),a.YNc(11,b,3,0,"li",9),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(11),a.Q6J("ngIf",n.isAdminLoggedIn))},directives:[i.O5],styles:[".nav-link[_ngcontent-%COMP%]{font-size:18px;font-weight:bolder;margin:0 20px;padding:10px 15px}.nav-link[_ngcontent-%COMP%]:hover{border-radius:50px;background-color:green;color:#f5f5f5}.nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{background-color:#4747b3}.logout-style[_ngcontent-%COMP%]:hover{background-color:#d64b4b;border-radius:60px;color:#f5f5f5;padding:8px;cursor:pointer}"]}),t})();const h=function(){return["active"]},f=function(){return["admin-dashboard"]},v=function(){return["job-applications"]},q=function(){return["company-postjobs"]};function _(t,n){1&t&&(a.TgZ(0,"div",5),a.TgZ(1,"p"),a._uU(2,"No Job Applications found."),a.qZA(),a.qZA())}function T(t,n){if(1&t&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.hij(" ",t.errorMessage," ")}}function x(t,n){if(1&t&&(a.TgZ(0,"tbody"),a.TgZ(1,"tr"),a.TgZ(2,"td"),a._uU(3),a.qZA(),a.TgZ(4,"td"),a._uU(5),a.qZA(),a.TgZ(6,"td"),a._uU(7),a.qZA(),a.TgZ(8,"td"),a._uU(9),a.qZA(),a.TgZ(10,"td"),a._uU(11),a.qZA(),a.TgZ(12,"td"),a.TgZ(13,"button",9),a._uU(14,"Approve"),a.qZA(),a._uU(15,"\xa0 "),a.TgZ(16,"button",10),a._uU(17,"Reject"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=n.$implicit,e=n.index;a.xp6(3),a.Oqu(e+1),a.xp6(2),a.Oqu(t.name),a.xp6(2),a.Oqu(t.company_name),a.xp6(2),a.Oqu(t.jobtitle),a.xp6(2),a.Oqu(t.application_date)}}function y(t,n){if(1&t&&(a.TgZ(0,"table",7),a.TgZ(1,"thead"),a.TgZ(2,"tr"),a.TgZ(3,"th"),a._uU(4,"S.NO"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"User Name"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Company Name"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Job Title"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Applied Date"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Status"),a.qZA(),a.qZA(),a.qZA(),a.YNc(15,x,18,5,"tbody",8),a.qZA()),2&t){const t=a.oxw();a.xp6(15),a.Q6J("ngForOf",t.appliedJobs)}}function U(t,n){1&t&&(a.TgZ(0,"div",5),a.TgZ(1,"p"),a._uU(2,"No job applications found."),a.qZA(),a.qZA())}function L(t,n){if(1&t&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.hij(" ",t.errorMessage," ")}}function J(t,n){if(1&t&&(a.TgZ(0,"tbody"),a.TgZ(1,"tr"),a.TgZ(2,"td"),a._uU(3),a.qZA(),a.TgZ(4,"td"),a._UZ(5,"img",9),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a._UZ(11,"td"),a.TgZ(12,"td"),a._uU(13),a.qZA(),a.TgZ(14,"td"),a._uU(15),a.qZA(),a.TgZ(16,"td"),a._uU(17),a.qZA(),a.TgZ(18,"td"),a.TgZ(19,"button",10),a._uU(20,"Approve"),a.qZA(),a._uU(21,"\xa0 "),a.TgZ(22,"button",11),a._uU(23,"Reject"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=n.$implicit,e=n.index;a.xp6(3),a.Oqu(e+1),a.xp6(2),a.Q6J("src","http://localhost:3000/uploads/jobLogo/"+t.imageUrl,a.LSH),a.xp6(1),a.hij(" \xa0 ",t.jobtitle,""),a.xp6(2),a.Oqu(t.companyname),a.xp6(2),a.Oqu(t.company_website),a.xp6(3),a.Oqu(t.vacancy_required),a.xp6(2),a.Oqu(t.application_date),a.xp6(2),a.Oqu(t.expiredate)}}function w(t,n){if(1&t&&(a.TgZ(0,"table",7),a.TgZ(1,"thead"),a.TgZ(2,"tr"),a.TgZ(3,"th"),a._uU(4,"S.NO"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Job Title"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Company Name"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Company Website"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Email ID"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Vacancy Required"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"Application Date"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Application Deadline"),a.qZA(),a.TgZ(19,"th"),a._uU(20,"Status"),a.qZA(),a.qZA(),a.qZA(),a.YNc(21,J,24,8,"tbody",8),a.qZA()),2&t){const t=a.oxw();a.xp6(21),a.Q6J("ngForOf",t.companyJobApplications)}}const I=[{path:"CLadmin",component:p},{path:"admin-details",component:(()=>{class t{constructor(t,n){this.jobsService=t,this.router=n,this.isAdminLoggedIn=!1}ngOnInit(){this.isAdminLoggedIn=this.jobsService.isAdminLoggedIn()}logout(){this.jobsService.logoutAdmin().subscribe(t=>{this.jobsService.setAdminLoggedIn(!1),this.jobsService.clearAdminLoginState(),this.isAdminLoggedIn=!1,this.router.navigate(["/admin/CLadmin"])},t=>{console.error("Logout failed",t)})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.e),a.Y36(o.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-admin-details"]],decls:32,vars:14,consts:[[1,"sidebar"],[1,"nav","flex-column"],[1,"nav-link",3,"routerLinkActive","routerLink"],[1,"icon"],[1,"bx","bxs-dashboard"],[1,"description"],[1,"bx","bx-send"],[1,"bx","bx-spreadsheet"],[1,"nav-link",3,"routerLinkActive","click"],[1,"bx","bx-log-in-circle"],[1,"main-content"]],template:function(t,n){1&t&&(a.TgZ(0,"header"),a._UZ(1,"app-admin-header"),a.qZA(),a.TgZ(2,"main"),a.TgZ(3,"div",0),a.TgZ(4,"nav",1),a.TgZ(5,"ul"),a.TgZ(6,"li"),a.TgZ(7,"a",2),a.TgZ(8,"span",3),a._UZ(9,"i",4),a.qZA(),a.TgZ(10,"span",5),a._uU(11,"Dashboard"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"li"),a.TgZ(13,"a",2),a.TgZ(14,"span",3),a._UZ(15,"i",6),a.qZA(),a.TgZ(16,"span",5),a._uU(17,"Applied Jobs"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"li"),a.TgZ(19,"a",2),a.TgZ(20,"span",3),a._UZ(21,"i",7),a.qZA(),a.TgZ(22,"span",5),a._uU(23,"Company Post Jobs"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"li"),a.TgZ(25,"a",8),a.NdJ("click",function(){return n.logout()}),a.TgZ(26,"span",3),a._UZ(27,"i",9),a.qZA(),a.TgZ(28,"span",5),a._uU(29,"Logout"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(30,"section",10),a._UZ(31,"router-outlet"),a.qZA(),a.qZA()),2&t&&(a.xp6(7),a.Q6J("routerLinkActive",a.DdM(7,h))("routerLink",a.DdM(8,f)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(9,h))("routerLink",a.DdM(10,v)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(11,h))("routerLink",a.DdM(12,q)),a.xp6(6),a.Q6J("routerLinkActive",a.DdM(13,h)))},directives:[A,o.yS,o.Od,o.lC],styles:["ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:200px;padding-top:20px;background-color:#3f3f74;transition:width .3s;z-index:1000}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:20px;gap:20px;padding:10px 20px;color:#f5f5f5}.sidebar[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#cece91;border-left:5px solid #fff}.sidebar[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{background-color:#023565;padding-left:3%}.main-content[_ngcontent-%COMP%]{height:100%;margin-left:200px;padding:20px;transition:margin-left .3s}@media (max-width:480px){.sidebar[_ngcontent-%COMP%]{width:60px}.sidebar[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center}.main-content[_ngcontent-%COMP%]{margin-left:60px}}"]}),t})(),canActivate:[s],children:[{path:"",redirectTo:"admin-dashboard",pathMatch:"full"},{path:"admin-dashboard",component:Z,canActivate:[s]},{path:"job-applications",component:(()=>{class t{constructor(t,n){this.jobsService=t,this.datePipe=n,this.appliedJobs=[],this.errorMessage=""}ngOnInit(){this.showAppliedJobs()}showAppliedJobs(){this.jobsService.getAppliedJobs().subscribe(t=>{t.success?(this.appliedJobs=t.data,this.appliedJobs.forEach(t=>{t.application_date=this.datePipe.transform(t.application_date,"yyyy-MM-dd")}),this.errorMessage=""):this.errorMessage="Failed to load applied jobs"},t=>{console.error("Error fetching applied jobs:",t),this.errorMessage="Error occurred while fetching job applications."})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.e),a.Y36(i.uU))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-job-applications"]],decls:7,vars:3,consts:[[1,"text-center"],["class","text-center mt-4",4,"ngIf"],[1,"container","mt-5","table-responsive"],["class","alert alert-danger",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"text-center","mt-4"],[1,"alert","alert-danger"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-danger"]],template:function(t,n){1&t&&(a.TgZ(0,"section"),a.TgZ(1,"h2",0),a._uU(2,"APPLIED JOBS"),a.qZA(),a.YNc(3,_,3,0,"div",1),a.TgZ(4,"div",2),a.YNc(5,T,2,1,"div",3),a.YNc(6,y,16,1,"table",4),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Q6J("ngIf",0===n.appliedJobs.length),a.xp6(2),a.Q6J("ngIf",n.errorMessage),a.xp6(1),a.Q6J("ngIf",n.appliedJobs.length>0))},directives:[i.O5,i.sg],styles:[""]}),t})(),canActivate:[s]},{path:"company-postjobs",component:(()=>{class t{constructor(t,n){this.jobsService=t,this.datePipe=n,this.companyJobApplications=[],this.errorMessage=""}ngOnInit(){this.showCompanyPostJobs()}showCompanyPostJobs(){this.jobsService.getJobPosting().subscribe(t=>{t.success?(this.companyJobApplications=t.data,this.companyJobApplications.forEach(t=>{t.expiredate=this.datePipe.transform(t.expiredate,"yyyy-MM-dd")})):(console.error("Failed to fetch company post jobs"),this.errorMessage="Failed to load company post jobs")},t=>{console.error("Error fetching company post jobs: ",t)})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.e),a.Y36(i.uU))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-company-postjobs"]],decls:7,vars:3,consts:[["class","text-center mt-4",4,"ngIf"],[1,"container","mt-5","table-responsive"],["class","alert alert-danger",4,"ngIf"],[1,"text-center"],["class","table table-striped",4,"ngIf"],[1,"text-center","mt-4"],[1,"alert","alert-danger"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["alt","Company_logo","width","35","height","35",3,"src"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-danger"]],template:function(t,n){1&t&&(a.TgZ(0,"section"),a.YNc(1,U,3,0,"div",0),a.TgZ(2,"div",1),a.YNc(3,L,2,1,"div",2),a.TgZ(4,"h2",3),a._uU(5,"Company Post Jobs"),a.qZA(),a.YNc(6,w,22,1,"table",4),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",0===n.companyJobApplications.length),a.xp6(2),a.Q6J("ngIf",n.errorMessage),a.xp6(3),a.Q6J("ngIf",n.companyJobApplications.length>0))},directives:[i.O5,i.sg],styles:[""]}),t})(),canActivate:[s]}]}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.Bz.forChild(I)],o.Bz]}),t})();var j=e(9413);let k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[i.uU],imports:[[i.ez,O,j.HomeModule,d.UX,c.JF,d.u5]]}),t})()}}]);